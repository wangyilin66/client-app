(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],d=0,g=[];d<r.length;d++)o=r[d],n[o]&&g.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(g.length)g.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0982":function(t,e,a){},"336c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABZElEQVRYR+3WOS9EURjG8d8UCtFIVBKl1tZoUYhKIiqNRiI6n8AW4htoRKVTaVAgglZja5UqiUQjCoIcuTeZjIlxl8xp5jY3dznn+b/reSsiX5XI+loART3QjTM8YTRPOIsA9OIcPbjFYDMBhnCKLlxhAi/NAhjDATpwgim85REPa7KGYBp7aEvus/jIK54VYB7bCfQWFvFVRDwLwDLWE7EVbBQVTtc3CkH4HqwO1gdrF7BTlngjD6RxDnF/xwz2yxT/C6AdRwgZ/4rJpObL1q9bBZ04xjCeMY7r0pWTDevlwB368Jh44KFG/AIjDYAuq1pz9f/V73+2qAdwg4GYAKG9hjYb2m2UEATPhDYb2m2UJEzDW1uGoRwPy07GLI3oE3PYLROiEUCqtYq15GEJm2VB/Bcg6EU9jFKDox7HKUTUgSSFiDqSpRDVQ+k9+vMkZpYkrLd/1LE8j8G/1hT1QGGIFsA3wqxKIc0zj74AAAAASUVORK5CYII="},"510b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i,n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("map-box")],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mapBox",staticClass:"map-box"},[a("div",[a("search-box")],1),a("baidu-map",{staticClass:"map",attrs:{center:t.center,zoom:t.zoom,dragging:!0,"scroll-wheel-zoom":!0,"max-zoom":18},on:{ready:t.mapReady,zoomstart:t.zoomstart,zoomend:t.zoomend,dragstart:t.dragstart,dragend:t.dragend}},[a("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!1,autoLocation:!0}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.overlayShow,expression:"overlayShow"}]},t._l(t.zoneGeoPoints,function(e,i){return a("zone-overlay",{key:i,attrs:{position:{lng:e.lng,lat:e.lat},text:e,unit:t.unit},on:{labelZoom:t.labelZoom}})}),1)],1),a("div",{staticClass:"list-box",class:{"list-style":t.listTransition},style:[{bottom:t.listPosition+"px"},{height:t.listHeight+"px"}]},[a("div",{ref:"listShop",staticClass:"list-shop",on:{touchstart:t.listDrag}},[a("div",{staticClass:"box-move",on:{touchend:t.listMove}},[a("span")]),a("div",{staticClass:"plot-info-box"},[a("div",{staticClass:"plot-til"},[t._v(t._s(t.vname))]),a("div",{staticClass:"plot-info"},[t._v(t._s(t.labelpara.county)+" | 在售"+t._s(t.count)+"套 均价"+t._s(t.villageAverage)+"/套")])])]),a("div",{staticClass:"list-con",style:{height:t.listHeight-94+"px"}},[a("list-overlay",{attrs:{listData:t.listData}})],1)])],1)},l=[],c=a("bd86"),u=(a("386d"),a("4917"),a("3b2b"),a("ac6a"),a("f3e2"),a("cebc")),d=(a("7f7f"),a("6d67"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bm-overlay",{ref:"customOverlay",staticClass:"zone",class:{"zone-circle":t.text.average,"zone-polygon":!t.text.average},attrs:{pane:"labelPane",unit:t.unit},on:{draw:t.draw}},[a("div",{on:{click:t.labelClick,touchend:t.labelClick}},[a("p",[t._v(t._s(t.text.name))]),t.text.average?a("p",[t._v(t._s(t._f("numberFormat")(t.text.average))),a("span",[t._v(t._s(t.unit))])]):t._e()])])}),g=[],p={data:function(){return{pixel:""}},props:["text","position","unit"],watch:{position:{handler:function(){this.$refs.customOverlay.reload()},deep:!0}},methods:{draw:function(t){var e=t.el,a=t.BMap,i=t.map,n=this.position,s=n.lng,o=n.lat,r=i.pointToOverlayPixel(new a.Point(s,o));e.style.left=r.x-36+"px",e.style.top=r.y-36+"px"},labelClick:function(){this.$emit("labelZoom",this.text)}},filters:{numberFormat:function(t){if(t){var e,a="",i=["","万","亿","万亿"];return t<1e4?a=t<1e3?t.toFixed(2):(t/1e4).toFixed(2)+"万":(e=Math.floor(Math.log(t)/Math.log(1e4)),a=(t/Math.pow(1e4,e)).toFixed(2)+i[e]),a}}}},h=p,f=(a("703d"),a("2877")),v=Object(f["a"])(h,d,g,!1,null,null,null),m=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"house-list"},[t._l(t.listData,function(e,i){return a("div",{key:i,staticClass:"list-item"},[a("div",{staticClass:"img-left"},[a("img",{attrs:{src:e.img}})]),a("div",{staticClass:"info-box"},[a("div",{staticClass:"info-row-one"},[t._v(t._s(e.title))]),a("div",{staticClass:"info-row-two"},[a("div",{staticClass:"info-infos"},[t._v(t._s(e.room)+"室"+t._s(e.hall)+"厅|"+t._s(e.area)+"㎡|"+t._s(e.orientation)+"朝向|"+t._s(e.vname))])]),a("div",{staticClass:"info-row-three"},t._l(e.tips,function(e,i){return a("div",{key:i},[t._v(t._s(e))])}),0),a("div",{staticClass:"info-row-four"},[a("div",{staticClass:"info-total"},[t._v(t._s(e.price)+"万")]),a("div",{staticClass:"info-price"},[t._v(t._s(e.villageAverage)+"元/㎡")])])])])}),a("div",{staticClass:"list-add"},[t._v("没有更多数据了")])],2)},x=[],y=(a("6b54"),a("87b3"),a("a481"),{name:"list-overlay",data:function(){return{}},props:["listData"],methods:{},filters:{toThousands:function(t){return(t||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}}}),_=y,C=(a("f934"),Object(f["a"])(_,b,x,!1,null,null,null)),w=C.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-box"},[i("div",{staticClass:"nav-box"},[i("div",{staticClass:"back",on:{click:t.backChange,touchend:t.backChange}},[i("img",{attrs:{src:a("336c")}})]),i("div",{staticClass:"nav-tab"},t._l(t.navTab,function(e,a){return i("div",{key:a,class:{"nav-active":t.navIsActive==a},on:{touchend:function(e){return t.navchange(a)}}},[t._v(t._s(e))])}),0)]),i("div",{staticClass:"screen-box"},[i("div",{staticClass:"screen-term"},t._l(t.screenTerm,function(e,a){return i("div",{key:a,class:{"screen-active":t.screenIsActive==a},on:{touchend:function(e){return t.screenchange(a)}}},[t._v(t._s(e))])}),0),i("div",{staticClass:"screen-con",style:{top:t.optionShow?"65px":"-240px"}},[i("div",{staticClass:"option"}),i("div",{staticClass:"btn-box"},[i("div",{on:{touchend:t.reset}},[t._v("重置")]),i("div",{on:{touchend:t.submit}},[t._v("确定")])])])])])},L=[],I={name:"search-box",data:function(){return{navTab:["二手房","新房","租房"],screenTerm:["区域","租金","户型","更多"],navIsActive:0,screenIsActive:4,optionShow:!1}},methods:{navchange:function(t){this.navIsActive=t},screenchange:function(t){this.screenIsActive=t,this.optionShow=!this.optionShow},reset:function(){this.screenIsActive=4},submit:function(){this.optionShow=!1},backChange:function(){console.log("backChange"),uni.switchTab({url:"/pages/index/index"}),uni.postMessage({data:{click:"back"}})}}},O=I,z=(a("dc5b"),Object(f["a"])(O,A,L,!1,null,null,null)),T=z.exports,j=a("bc3a"),P=a.n(j),S=P.a.create({timeout:3e4,baseURL:"http://192.168.1.103/api_baidu/house"}),E={post:function(t,e){return S({method:"post",url:t,data:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},get:function(t,e){return S({method:"get",url:t,params:e})}},B=[{id:0,imgUrl:"",til:"新华联锦园",hasLabel:!1,labelUrl:"../../static/images/index/home_jiang.png",total:600,infos:"3室2厅/140㎡/朝南",price:14e3,site:"地铁瀛海站西中等装修超大阳台超大阳台",tips:["满五年","VR看装修","近地铁","商圈多"],address:"海淀区 中关村"},{id:1,imgUrl:"../../assets/home_fangzi_pic.png",til:"新华联锦园",total:600,infos:"3室2厅/140㎡/朝南",price:14e3,site:"地铁瀛海站西中等装修超大阳台超大阳台",tips:["满五年","VR看装修","近地铁","商圈多"],address:"海淀区 中关村"},{id:2,imgUrl:"../../assets/home_fangzi_pic.png",til:"新华联锦园",total:600,infos:"3室2厅/140㎡/朝南",price:14e3,site:"地铁瀛海站西中等装修超大阳台超大阳台",tips:["满五年","VR看装修","近地铁","商圈多"],address:"海淀区 中关村"}],R=B,k=14,G=16,U=window.localStorage,M=new Array,Z=(i={name:"map-box",data:function(){return{center:{lng:117.2,lat:39.12},zoom:12,unit:"元",zoneGeoPoints:[],scaling:"region",overlayShow:!0,geocoder:"",map:"",labelpara:"",unZoom:!0,listData:R,listPosition:0,listHeight:100,listTransition:!1,vname:"",count:"",villageAverage:""}},beforeCreate:function(){U.getItem("dataList")||(M.push({city:"天津",id:"402880476cf10414016cf105ca840003"}),U.setItem("dataList",JSON.stringify(M)))},methods:{mapReady:function(t){var e=t.BMap,a=t.map,i=this;i.geocoder=new e.Geocoder,i.unZoom=!0,i.map=a},zoomstart:function(t){},zoomend:function(t){var e=t.target.getCenter(),a=e.lng,i=e.lat,n=this;n.center.lng=a,n.center.lat=i,n.zoom=t.target.getZoom(),""==!n.geocoder&&n.unZoom&&this.overlayUpdate(t.target.getCenter())},dragstart:function(t){},dragend:function(t){var e=this,a=t.target.getCenter(),i=a.lng,n=a.lat;if(e.center.lat=n,e.center.lng=i,"zone"==e.scaling&&e.unZoom){var s={lngMin:e.map.getBounds().getSouthWest().lng,lngMax:e.map.getBounds().getNorthEast().lng,latMin:e.map.getBounds().getSouthWest().lat,latMax:e.map.getBounds().getNorthEast().lat};e.getList("/nearby",s)}},labelZoom:function(t){this.unZoom=!1,"region"==this.scaling?(this.map.setZoom(15),this.zoom=15,this.labelpara={county:t.name},this.unZoom=!0,this.getList("/plate",{id:t.id,lng:t.lng,lat:t.lat})):"area"==this.scaling?(this.map.setZoom(17),this.zoom=17,this.labelpara.plate=t.name,this.unZoom=!0,this.getList("/village",Object(u["a"])({},this.labelpara))):"zone"==this.scaling&&(this.unZoom=!0,this.getList("/list",{id:t.id}))},getList:function(t,e){var a=this;E.get(t,e).then(function(i){M=U.getItem("dataList")?JSON.parse(U.getItem("dataList")):M,"/plate"==t?(M[0].countyList.forEach(function(t){t.id==e.id&&(t.plateList=i.data.data.list)}),a.zoneGeoPoints=i.data.data.list):"/village"==t?(M[0].countyList.forEach(function(t,n){t.name==e.county&&t.plateList.forEach(function(t){t.name==e.plate&&(t.villageList=i.data.data.list,a.zoneGeoPoints=i.data.data.list)})}),a.zoneGeoPoints=i.data.data.list):"/list"==t?(a.listPosition=0,a.listTransition=!0,a.listData=i.data.data.list,a.vname=i.data.data.list.vname,a.count=i.data.data.list.count,a.villageAverage=i.data.data.list.villageAverage):"/nearby"==t&&(a.zoneGeoPoints=i.data.data.list),U.setItem("dataList",JSON.stringify(M)),a.center.lng=e.lng,a.center.lat=e.lat}).cetch(function(t){})},overlayUpdate:function(t){var e=this;M=U.getItem("dataList")?JSON.parse(U.getItem("dataList")):M,e.geocoder.getLocation(t,function(t){if("region"==e.scaling)e.zoneGeoPoints=M[0].countyList?M[0].countyList:"";else if("area"==e.scaling)M[0].countyList.forEach(function(a){t.addressComponents.district==a.name+"区"&&(a.plateList?e.zoneGeoPoints=a.plateList:e.getList("/plate",{id:a.id}))});else if("zone"==e.scaling){var a=new Array;M[0].countyList.forEach(function(e){t.addressComponents.district==e.name+"区"&&e.plateList.forEach(function(t){t.villageList&&a.push(t.villageList)})}),e.zoneGeoPoints=a}})},listMove:function(){var t=this.$refs.mapBox.offsetHeight;this.listHeight=this.listHeight==.6*t?.8*t:.6*t},listDrag:function(t){var e=this,a=e.$refs.listShop,i=t.changedTouches[0].clientY,n=e.listPosition,s=e.listHeight;a.addEventListener("touchmove",function(t){var a=t.changedTouches[0].clientY-i;e.listTransition=!1,e.listPosition=n+a,e.listHeight=s-a,e.listPosition=n}),a.addEventListener("touchend",function(t){e.listTransition=!0;var a=e.$refs.mapBox.offsetHeight;e.listHeight<240?(e.listHeight=parseInt(.6*a),e.listPosition=-parseInt(.6*a)):e.listHeight>480&&(e.listHeight=parseInt(.8*a),e.listPosition=0)})}},components:{zoneOverlay:m,listOverlay:w,searchBox:T}},Object(c["a"])(i,"beforeCreate",function(){var t=new RegExp("(^|&)"+name+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(t);if(console.log(e),null!=e)return console.log(decodeURIComponent(e[2])),decodeURIComponent(e[2])}),Object(c["a"])(i,"created",function(){var t=this,e=U.getItem("dataList")?JSON.parse(U.getItem("dataList"))[0].id:a[0].id,a=U.getItem("dataList")?JSON.parse(U.getItem("dataList")):a;E.get("/map",{id:e}).then(function(e){t.zoneGeoPoints=e.data.data.list,a[0].countyList=e.data.data.list,U.setItem("dataList",JSON.stringify(a))}).cetch(function(t){})}),Object(c["a"])(i,"mounted",function(){var t=this.$refs.mapBox.offsetHeight;this.listHeight=parseInt(.6*t),this.listPosition=-parseInt(.6*t),this.listTransition=!0}),Object(c["a"])(i,"watch",{zoom:function(t){this.scaling=t>G?"zone":t>k&&t<G+1?"area":"region"}}),i),D=Z,H=(a("bb91"),Object(f["a"])(D,r,l,!1,null,null,null)),Y=H.exports,F={name:"app",components:{mapBox:Y}},V=F,$=Object(f["a"])(V,s,o,!1,null,null,null),N=$.exports,J=a("bd0c"),K=a.n(J);n["a"].config.productionTip=!1,n["a"].use(K.a,{ak:"sxVBFmGagbggkyIVomEYxOx28BFZytGT"}),new n["a"]({render:function(t){return t(N)}}).$mount("#app")},"703d":function(t,e,a){"use strict";var i=a("7d66"),n=a.n(i);n.a},"7d66":function(t,e,a){},"823e":function(t,e,a){},bb91:function(t,e,a){"use strict";var i=a("510b"),n=a.n(i);n.a},dc5b:function(t,e,a){"use strict";var i=a("823e"),n=a.n(i);n.a},f934:function(t,e,a){"use strict";var i=a("0982"),n=a.n(i);n.a}});